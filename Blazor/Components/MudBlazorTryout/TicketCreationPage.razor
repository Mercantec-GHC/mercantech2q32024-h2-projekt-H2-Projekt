@page "/ticket/create"
@using DomainModels
@using DomainModels.DB
@using System.Net.Http.Json

<h3>Ticket</h3>


<MudTextField @bind-Value="ticket.Title" Label="Ticket title" HelperText="Title" Variant="Variant.Outlined"/>
<MudTextField @bind-Value="ticket.Description" Label="Ticket description" HelperText="Description" Variant="Variant.Outlined" />

<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="() => AddTicketToDB()">Primary</MudButton>

@code {
    Ticket ticket = new Ticket()
        {
            status = Status.WorkInProgress
        };

    private readonly HttpClient _httpClient = new HttpClient();

    public async Task AddTicketToDB()
    {
        await _httpClient.PostAsJsonAsync("https://localhost:7207/Ticket", ticket);
    }
}



